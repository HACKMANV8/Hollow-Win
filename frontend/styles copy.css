:root {
  --bg: #191834;
  --card: #232248;
  --text: #f7f7fb;
  --muted: #c9c7dd;
  --red: #ff5a5f;
  --yellow: #ffcf4b;
  --green: #38d28b;
  --blue: #4aa3ff;
  --orange: #ff8c3a;
  --pink: #ff6ca8;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Outfit', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.4;
  background: radial-gradient(1200px 600px at 70% -10%, rgba(255,255,255,.07), transparent 60%), var(--bg);
  color: var(--text);
}

.site-header {
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 18px clamp(16px, 6vw, 40px);
  background: linear-gradient(180deg, rgba(13,12,28,.9), rgba(13,12,28,.4) 70%, transparent);
  backdrop-filter: saturate(140%) blur(6px);
}
.brand { display: flex; align-items: center; gap: 12px; }
.brand-mark { font-size: 28px; }
.brand-title { font-weight: 900; letter-spacing: .5px; }
.brand-sub { color: var(--muted); font-size: 12px; margin-top: -4px; }

.main-nav { display: flex; align-items: center; gap: 12px; }
.nav-link { color: var(--text); opacity: .85; text-decoration: none; font-weight: 600; padding: 10px 12px; border-radius: 12px; }
.nav-link:hover { opacity: 1; background: rgba(255,255,255,.06); }

.btn { display: inline-flex; align-items: center; gap: 10px; font-weight: 800; text-decoration: none; border: 0; cursor: pointer; transition: transform .08s ease, box-shadow .2s ease, opacity .2s ease; }
.btn:active { transform: translateY(1px); }
.btn-pill { padding: 12px 18px; border-radius: 999px; }
.btn-secondary { background: rgba(255,255,255,.1); color: #fff; }
.btn-green { background: var(--green); color: #042018; }
.btn-yellow { background: var(--yellow); color: #201a00; }
.btn-red { background: var(--red); color: #fff; }
.btn-primary { background: #fff; color: #16152e; border-radius: 14px; padding: 12px 16px; font-weight: 800; }
.btn-light { background: rgba(255,255,255,.12); color: #fff; border-radius: 14px; padding: 12px 16px; }
.btn.with-icon .icon { filter: drop-shadow(0 2px 0 rgba(0,0,0,.2)); }

.hero { position: relative; min-height: 52vh; display: grid; place-items: center; padding: 40px 0 10px; overflow: hidden; }
/* Right-sized Spline container so it never overwhelms the hero */
.spline-wrap {
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: min(1100px, 92%);
  height: 360px; /* desktop default */
  z-index: 0;
  opacity: .9;
  pointer-events: none;
}
.emoji-cloud { position: absolute; inset: 0; pointer-events: none; z-index: 1; }
.emoji-cloud span { position: absolute; font-size: clamp(18px, 3.2vw, 28px); opacity: .9; animation: float 8s ease-in-out infinite; }
.emoji-cloud span:nth-child(1){ top: 8%; left: 8%; animation-delay: 0s; }
.emoji-cloud span:nth-child(2){ top: 18%; left: 22%; animation-delay: .6s; }
.emoji-cloud span:nth-child(3){ top: 6%; left: 42%; animation-delay: 1.2s; }
.emoji-cloud span:nth-child(4){ top: 16%; left: 64%; animation-delay: 1.8s; }
.emoji-cloud span:nth-child(5){ top: 10%; left: 82%; animation-delay: 2.4s; }
.emoji-cloud span:nth-child(6){ top: 28%; left: 10%; animation-delay: 3s; }
.emoji-cloud span:nth-child(7){ top: 32%; left: 28%; animation-delay: 3.6s; }
.emoji-cloud span:nth-child(8){ top: 22%; left: 50%; animation-delay: 4.2s; }
.emoji-cloud span:nth-child(9){ top: 30%; left: 72%; animation-delay: 4.8s; }
.emoji-cloud span:nth-child(10){ top: 26%; left: 88%; animation-delay: 5.4s; }
@keyframes float {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-8px) rotate(6deg); }
  100% { transform: translateY(0) rotate(0deg); }
}
.hero-content { position: relative; z-index: 1; width: min(1100px, 92%); }
.hero-cta-row { display: flex; flex-wrap: wrap; gap: 14px; justify-content: center; }

.grid {
  width: min(1200px, 92%);
  margin: 24px auto 64px;
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 18px;
}
.card {
  grid-column: span 6;
  background: var(--card);
  border-radius: 18px;
  padding: 22px;
  box-shadow: var(--shadow);
  position: relative;
  overflow: hidden;
}
.card-title { margin: 0 0 14px; font-weight: 900; font-size: 24px; }
.card-orange { background: linear-gradient(160deg, #ff944d, #ff7a3b 50%, #ff884d); }
.card-blue { background: linear-gradient(160deg, #5db7ff, #3e8eff 60%, #5aa7ff); }
.card-green { background: linear-gradient(160deg, #5be0a2, #33c07f 60%, #42d18b); }
.card-pink { background: linear-gradient(160deg, #ff8cc3, #ff6aa9 60%, #ff78b6); }
/* Small decorative stickers inside cards */
.sticker { position: absolute; font-size: 22px; filter: drop-shadow(0 4px 8px rgba(0,0,0,.25)); opacity: .9; }

.input-row { display: grid; grid-template-columns: 1fr auto; gap: 10px; margin-bottom: 12px; }
.input { width: 100%; border-radius: 14px; padding: 12px 14px; border: 0; outline: none; box-shadow: inset 0 0 0 2px rgba(0,0,0,.1); }
.icon-btn { border: 0; background: rgba(255,255,255,.2); padding: 0 12px; border-radius: 12px; cursor: pointer; }

.field { margin: 12px 0; }
.field label { font-weight: 700; display: block; margin-bottom: 6px; }
.chip-row, .pill-row { display: flex; gap: 10px; flex-wrap: wrap; }
.chip, .pill { border: 0; background: rgba(255,255,255,.2); color: #fff; padding: 10px 12px; border-radius: 12px; cursor: pointer; font-weight: 700; }
.chip.is-active, .pill.is-active { background: rgba(255,255,255,.35); color: #06111c; }

.actions { margin-top: 14px; }

.upload { display: grid; gap: 8px; }
.muted { color: #132030; font-weight: 600; opacity: .9; }

.play { width: 64px; height: 64px; border-radius: 50%; border: 0; font-size: 20px; box-shadow: var(--shadow); }

/* Animated call-to-action button */
.btn-gleam {
  position: relative;
  overflow: hidden;
}
.btn-gleam::after {
  content: '';
  position: absolute;
  top: 0; left: -120%;
  width: 120%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
  transform: skewX(-20deg);
  animation: gleam 2.4s infinite;
}
@keyframes gleam { 0% { left: -120%; } 60% { left: 140%; } 100% { left: 140%; } }

.upload-box { margin-top: 8px; background: rgba(255,255,255,.12); border-radius: 14px; padding: 10px; display: grid; place-items: center; }
.upload-box .preview { max-width: 100%; border-radius: 10px; box-shadow: var(--shadow); }
.scan-result { margin-top: 10px; background: rgba(0,0,0,.28); border: 1px solid rgba(255,255,255,.18); padding: 12px 14px; border-radius: 12px; font-weight: 700; }
.spinner { width: 16px; height: 16px; border: 3px solid rgba(255,255,255,.35); border-top-color: #fff; border-radius: 50%; display: inline-block; margin-right: 8px; animation: spin .8s linear infinite; vertical-align: -2px; }
@keyframes spin { to { transform: rotate(360deg); } }

@media (max-width: 980px) {
  .card { grid-column: span 12; }
  .hero { min-height: 46vh; }
  .spline-wrap { height: 260px; top: 0; }
}

.site-footer { width: min(1200px, 92%); margin: 40px auto 48px; opacity: .8; color: var(--muted); }

/* Stories page */
.stories-header {
  width: min(1200px, 92%);
  margin: 24px auto 8px;
}
.stories-title { font-size: clamp(28px, 6vw, 54px); line-height: 1.05; margin: 6px 0 16px; font-weight: 900; }
.filter-row { display: flex; gap: 10px; flex-wrap: wrap; }

.story-grid { width: min(1200px, 92%); margin: 16px auto 80px; display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 18px; }
.story-card { background: var(--card); border-radius: 18px; padding: 16px; box-shadow: var(--shadow); display: grid; gap: 10px; }
.story-thumb { height: 120px; border-radius: 14px; background: linear-gradient(160deg, #74e1e1, #53b2f3); display: grid; place-items: center; font-size: 40px; }
.tag { font-size: 12px; padding: 6px 8px; border-radius: 999px; background: rgba(255,255,255,.12); display: inline-flex; gap: 6px; align-items: center; }
.read-btn { align-self: end; }

/* Picture Magic page */
.pm-hero {
  width: min(1200px, 92%);
  margin: 24px auto 0;
  background: linear-gradient(160deg, #5db7ff, #3e8eff 60%, #5aa7ff);
  border-radius: 20px;
  padding: 24px;
  box-shadow: var(--shadow);
}
.pm-title { font-size: clamp(26px, 5vw, 40px); font-weight: 900; display: flex; align-items: center; gap: 10px; }
.pm-emoji { font-size: 34px; }
.pm-sub { margin: 6px 0 0; font-weight: 700; color: #0b2340; }

.pm-stage { width: min(1200px, 92%); margin: 16px auto 80px; display: grid; grid-template-columns: 1.1fr .9fr; gap: 18px; }
.pm-left, .pm-right { display: grid; gap: 12px; align-content: start; }
.pm-drop { background: rgba(255,255,255,.15); border-radius: 20px; padding: 14px; display: grid; place-items: center; min-height: 280px; }
.pm-placeholder { font-size: 28px; opacity: .9; }
.pm-preview { max-width: 100%; max-height: 380px; border-radius: 16px; box-shadow: var(--shadow); }
.pm-actions { display: flex; gap: 10px; flex-wrap: wrap; }
.pm-bubble { background: rgba(0,0,0,.28); border: 1px solid rgba(255,255,255,.18); padding: 14px; border-radius: 14px; font-weight: 800; }
.pm-muted { opacity: .85; }

@media (max-width: 980px) {
  .pm-stage { grid-template-columns: 1fr; }
}

/* Gamify */
.galaxy-hero { width: min(1200px,92%); margin: 20px auto 6px; background: linear-gradient(160deg,#5db7ff,#3e8eff 60%,#5aa7ff); border-radius: 20px; padding: 20px; box-shadow: var(--shadow); }
.worlds-grid { width: min(1200px,92%); margin: 12px auto 24px; display: grid; grid-template-columns: repeat(auto-fill,minmax(220px,1fr)); gap: 16px; }
.planet-card { background: rgba(255,255,255,.08); border-radius: 18px; padding: 16px; box-shadow: var(--shadow); display: grid; gap: 8px; align-items: start; animation: floaty 4s ease-in-out infinite; }
.planet-emoji { font-size: 40px; }
.unlock { font-weight: 800; opacity: .95; }
@keyframes floaty { 0%{ transform: translateY(0);} 50%{ transform: translateY(-6px);} 100%{ transform: translateY(0);} }

.kid-dash { width: min(1200px,92%); margin: 10px auto 60px; display: grid; gap: 14px; }
.islands { display: grid; grid-template-columns: repeat(4,1fr); gap: 12px; }
.island { background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), transparent 60%), #1e2a4a; border-radius: 18px; padding: 16px; box-shadow: var(--shadow); text-align: center; animation: floaty 5s ease-in-out infinite; }
.island-emoji { font-size: 28px; }
.island-name { margin-top: 6px; font-weight: 800; }
.kid-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.kid-card { background: rgba(255,255,255,.08); border-radius: 16px; padding: 16px; box-shadow: var(--shadow); }
.kid-card.glow { box-shadow: 0 0 0 3px rgba(255,255,255,.18), var(--shadow); }
.story-gallery { display: grid; grid-auto-flow: column; grid-auto-columns: 120px; gap: 10px; overflow-x: auto; }
.comic-tile { height: 120px; border-radius: 14px; background: rgba(255,255,255,.1); display: grid; place-items: center; font-size: 36px; }
@media (max-width: 900px){ .islands{grid-template-columns: repeat(2,1fr);} .kid-row{grid-template-columns:1fr;} }

/* Parents */
.parent-grid { width: min(1200px,92%); margin: 8px auto 60px; display: grid; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); gap: 16px; }
.parent-card { background: rgba(255,255,255,.08); border-radius: 16px; padding: 16px; box-shadow: var(--shadow); }

/* Story Setup */
.setup { width: min(1200px, 92%); margin: 24px auto 80px; }
.setup-title { font-size: clamp(28px, 6vw, 44px); font-weight: 900; margin: 0 0 6px; }
.setup-sub { color: var(--muted); font-weight: 700; margin: 0 0 18px; }
.setup-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px; }
.setup-card { grid-column: span 6; background: rgba(255,255,255,.08); border-radius: 16px; padding: 16px; box-shadow: var(--shadow); }
.setup-card label { display: block; font-weight: 800; margin-bottom: 8px; }
@media (max-width: 900px){ .setup-card { grid-column: span 12; } }

/* Story Studio */
.studio { width: min(1400px, 94%); margin: 16px auto 40px; display: grid; grid-template-columns: 1.1fr 1.2fr; gap: 18px; }
.studio-left { background: rgba(255,255,255,.06); border-radius: 16px; padding: 16px; box-shadow: var(--shadow); }
.studio-right { display: grid; gap: 12px; align-content: start; }
.studio-title { font-size: clamp(22px, 4vw, 36px); margin: 0 0 10px; font-weight: 900; }
.studio-editor { width: 100%; min-height: 420px; border-radius: 12px; border: 0; padding: 12px; font-family: inherit; font-size: 15px; line-height: 1.5; }
.studio-canvas { height: 280px; border-radius: 16px; background: #1f2a48; display: grid; place-items: center; box-shadow: var(--shadow); }
.studio-toolbar { display: flex; justify-content: flex-end; }
.studio-timeline { display: grid; grid-auto-flow: column; grid-auto-columns: 100px; gap: 8px; overflow-x: auto; padding-bottom: 6px; }
.timeline-card { height: 72px; border-radius: 12px; background: rgba(255,255,255,.1); display: grid; place-items: center; font-size: 28px; }
@media (max-width: 900px){ .studio { grid-template-columns: 1fr; } }


